<div *ngIf="poData.length > 0">
  <p-table
    [columns]="columns"
    [value]="poData"
    class="p-table"
    [tableStyle]="{ width: '70%', border: '1px solid #000' }"
  >
    <ng-template pTemplate="header" let-columns let-rowIndex="rowIndex">
      <tr style="height: 46px">
        <th *ngFor="let col of columns" style="width: max-content">
          <ng-container *ngIf="col.field !== 'checkBox'; else checkBoxColumn">
            {{ col.header }}
          </ng-container>
          <ng-template #checkBoxColumn>
            <form [formGroup]="formGroup">
              <input type="checkbox" formControlName="allChecked" />
            </form>
          </ng-template>
        </th>
      </tr>
    </ng-template>

    <ng-template
      pTemplate="body"
      let-rowData
      let-columns="columns"
      let-rowIndex="rowIndex"
    >
      <tr style="height: 46px">
        <td *ngFor="let col of columns">
          <ng-container
            *ngIf="
              col.field !== 'checkBox' && col.field !== 'taxCalculated';
              else checkboxColumn
            "
          >
            <form [formGroup]="formGroups[rowIndex]">
              <div>{{ rowData[col.field] }}</div>
            </form>
          </ng-container>
          <ng-template #checkboxColumn>
            <div *ngIf="col.field === 'checkBox'">
              <form [formGroup]="formGroups[rowIndex]">
                <input type="checkbox" formControlName="checkBox" />
                <label>{{ rowData[col.field] }}</label>
              </form>
            </div>

            <div *ngIf="col.field === 'taxCalculated'">
              <form [formGroup]="formGroups[rowIndex]">
                <input type="checkbox" [checked]="rowData[col.field] === 1" />
                <label>{{ rowData[col.field] }}</label>
              </form>
            </div>
          </ng-template>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
